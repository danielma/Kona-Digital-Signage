<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Layout.js</title><link rel="stylesheet" type="text/css" href="../styles/main.css"><script language=JavaScript src="../javascript/main.js"></script><script language=JavaScript src="../javascript/prettify.js"></script></head><body class="FramedContentPage" onLoad="NDOnLoad();prettyPrint();"><script language=JavaScript><!--
if (browserType) {document.write("<div class=" + browserType + ">");if (browserVer) {document.write("<div class=" + browserVer + ">"); }}// --></script>

<!--  Generated by Natural Docs, version 1.52 -->
<!--  http://www.naturaldocs.org  -->

<!-- saved from url=(0026)http://www.naturaldocs.org -->




<div id=Content><div class="CSection"><div class=CTopic id=MainTopic><h1 class=CTitle><a name="Layout.js"></a>Layout.js</h1><div class=CBody><p>Layout.js is the configuration file for the DigitalSignage app.&nbsp; Each display can use it&rsquo;s own layout.js file to display seperate information in seperate ways</p><h4 class=CHeading>Basic Syntax</h4><p>At it&rsquo;s most basic level, the layout variable is just an array of objects which will be inserted into an html page based on the object&rsquo;s content attribute</p><blockquote><pre class="prettyprint">var layout = [{id: &quot;wrapper&quot;}]</pre></blockquote><h4 class=CHeading>Properties</h4><p><b>Required</b></p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>id {String}</td><td class=CDLDescription>the html id of the object</td></tr><tr><td class=CDLEntry>content {Array or Function}</td><td class=CDLDescription>the content of the object.&nbsp; Either an array of children objects or a function that fills the object with data</td></tr></table><p><b>Optional</b></p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>css {Object}</td><td class=CDLDescription>an object with css properties to be applied by <a href="http://api.jquery.com/css/" class=LURL target=_top>jQuery&rsquo;s css() method</a></td></tr><tr><td class=CDLEntry>size {Integer}</td><td class=CDLDescription>defines what percentage of it&rsquo;s parent the object should take (defaults to an even division between all siblings)</td></tr><tr><td class=CDLEntry>title {String}</td><td class=CDLDescription>title for a section</td></tr></table><p><b>Required for the topmost object</b></p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>parent {String}</td><td class=CDLDescription>the html id of the object&rsquo;s parent</td></tr></table><p><b>Required for objects with children</b></p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>orient {String}</td><td class=CDLDescription>either &ldquo;horizontal&rdquo; or &ldquo;vertical&rdquo;.&nbsp; Horizontal objects will lay out their children next to each other from left to right whereas vertical objects from top to bottom</td></tr></table><h4 class=CHeading>Examples For Each Property</h4><p><b>id</b></p><blockquote><pre class="prettyprint">{id: &quot;wrapper&quot;} -&gt; &lt;div id=&quot;wrapper&quot;&gt;...&lt;/div&gt;</pre></blockquote><p><b>content</b></p><p>Many times, content will just be an array of children</p><blockquote><pre class="prettyprint">{id: &quot;wrapper&quot;,
 content: [
   {id: &quot;video&quot;},
   {id: &quot;events&quot;}
 ]
}
------------------
&lt;div id=&quot;wrapper&quot;&gt;
  &lt;div id=&quot;video&quot;&gt;...&lt;/div&gt;
  &lt;div id=&quot;events&quot;&gt;...&lt;/div&gt;
&lt;/div&gt;</pre></blockquote><p>Other times it is actually a function that defines how every space should be filled</p><p>There are three types of basic functions that will go here: <b>The video player, YWAM Connect data, and Google Calendar data</b></p><p>In order to use the video player, you must call the <a href="calparse-js.html#videoPlayer.playVideos" class=LFunction id=link1 onMouseOver="ShowTip(event, 'tt1', 'link1')" onMouseOut="HideTip('tt1')">videoPlayer.playVideos</a> function on an object with the id &ldquo;video&rdquo;</p><blockquote><pre class="prettyprint">{
  id: &quot;video&quot;,
  content: function() {videoPlayer.playVideos({path: &quot;http://gniux.uofnkona.edu/videos/&quot;, list: ['1.m4v', '2.m4v', '3.m4v', '4.m4v']})}
}</pre></blockquote><p>For calendar data, you must write in a callback to write the data to the page using the <b>write_</b> methods defined in <a href="calparse-js.html#CalData" class=LClass id=link2 onMouseOver="ShowTip(event, 'tt2', 'link2')" onMouseOut="HideTip('tt2')">CalData</a></p><p>.</p><p>Each write_ method takes an <b>element</b> parameter.&nbsp; This should always take the form of &ldquo;#(id of the object) .content&rdquo;</p><p>.</p><p>To get data from <b>YWAM Connect</b>, use the methods defined in <a href="calparse-js.html#YConnect" class=LClass id=link3 onMouseOver="ShowTip(event, 'tt3', 'link3')" onMouseOut="HideTip('tt3')">YConnect</a></p><blockquote><pre class="prettyprint">{
  id: &quot;menu&quot;,
  content: function() {YConnect.get_calendar(&quot;today&quot;, function(data) {
    CalData.write_table(data, &quot;#menu .content&quot;, &quot;t()|-|d()&quot;);
  });}
}
---------------------
&lt;div id=&quot;menu&quot;&gt;
  &lt;div class=&quot;content&quot;&gt;
    &lt;table&gt;...&lt;/table&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre></blockquote><p>To get data from <b>Google Calendar</b>, use the methods defined in <a href="calparse-js.html#GCal" class=LClass id=link4 onMouseOver="ShowTip(event, 'tt4', 'link4')" onMouseOut="HideTip('tt4')">GCal</a></p><blockquote><pre class="prettyprint">{
  id: &quot;theater&quot;,
  content: function() {GCal.get_calendar(GCal.mauka_theater, &quot;week&quot;, function(data) {
    CalData.write_movies(data, &quot;#theater .content&quot;, &quot;s(dddd, MMMM d\nh:mm tt)&quot;);
  });}
}
---------------------
&lt;div id=&quot;theater&quot;&gt;
  &lt;div class=&quot;content&quot;&gt;
    ...ticker with movies...
  &lt;/div&gt;
&lt;/div&gt;</pre></blockquote><p><b>css</b></p><blockquote><pre class="prettyprint">{id: &quot;bluebear&quot;, css: {
  margin: &quot;30px&quot;
}}
---------------
&lt;div id=&quot;bluebear&quot; style=&quot;margin: 30px&quot;&gt;...&lt;/div&gt;</pre></blockquote><p><b>size</b></p><blockquote><pre class="prettyprint">[
  {id: &quot;left&quot;, size: 70},
  {id: &quot;right&quot;, size: 30}
]

+----------------------------------+
|                       |          |
|        #left          |  #right  |
|                       |          |
+----------------------------------+</pre></blockquote><blockquote><pre class="prettyprint">[
  {id: &quot;one&quot;, size: 33},
  {id: &quot;two&quot;, size: 33},
  {id: &quot;three&quot;, size: 33}
]

+----------------------------------+
|          |            |          |
|  #one    |    #two    |  #three  |
|          |            |          |
+----------------------------------+</pre></blockquote><p><b>title</b></p><blockquote><pre class="prettyprint">{id: &quot;events&quot;, title: &quot;Tomorrow's Events&quot;}
-------------
&lt;div id=&quot;events&quot;&gt;
  &lt;h1&gt;Tomorrow's Events&lt;/h1&gt;
  &lt;div class=&quot;content&quot;&gt;...&lt;/div&gt;
&lt;/div&gt;</pre></blockquote><p><b>parent</b></p><blockquote><pre class="prettyprint">{parent: &quot;body&quot;, id: &quot;bluebear&quot;} -&gt; &lt;div id=&quot;body&quot;&gt;&lt;div id=&quot;bluebear&quot;&gt;...&lt;/div&gt;&lt;/div&gt;</pre></blockquote><p><b>orient</b></p><blockquote><pre class="prettyprint">{
  id: &quot;wrapper&quot;,
  orient: &quot;horizontal&quot;
  content: [
    {id: &quot;one&quot;},
    {id: &quot;two&quot;,
    {id: &quot;three&quot;}
  ]
}

+----------------------------------+
|          |            |          |
|  #one    |    #two    |  #three  |
|          |            |          |
+----------------------------------+</pre></blockquote><blockquote><pre class="prettyprint">{
  id: &quot;wrapper&quot;,
  orient: &quot;vertical&quot;
  content: [
    {id: &quot;one&quot;},
    {id: &quot;two&quot;,
    {id: &quot;three&quot;}
  ]
}

+----------+
|          |
|   #one   |
|          |
|----------|
|          |
|   #two   |
|          |
|----------|
|          |
|  #three  |
|          |
+----------+</pre></blockquote><h4 class=CHeading>Layout Examples</h4><p>Horizontally oriented</p><blockquote><pre class="prettyprint">{
  id: &quot;wrapper&quot;,
  orient: &quot;horizontal&quot;
  content: [
    {id: &quot;left&quot;},
    {
      id: &quot;right&quot;,
      orient: &quot;vertical&quot;,
      content: [
        {id: &quot;cap&quot;},
        {id: &quot;bluebear&quot;}
      ]
    }
  ]
}

+--------------------------+
|             |            |
|             |            |
|             |   #cap     |
|             |            |
|             |            |
|   #left     |------------|
|             |            |
|             |            |
|             | #bluebear  |
|             |            |
|             |            |
+--------------------------+</pre></blockquote><p>Vertical oriented</p><blockquote><pre class="prettyprint">{
  id: &quot;wrapper&quot;,
  orient: &quot;vertical&quot;
  content: [
    {id: &quot;top&quot;},
    {
      id: &quot;bottom&quot;,
      orient: &quot;horizontal&quot;,
      content: [
        {id: &quot;cap&quot;},
        {id: &quot;bluebear&quot;}
      ]
    }
  ]
}

+--------------------------+
|                          |
|                          |
|          #top            |
|                          |
|                          |
|--------------------------|
|            |             |
|            |             |
|    #cap    |  #bluebear  |
|            |             |
|            |             |
+--------------------------+</pre></blockquote><h4 class=CHeading>See Also</h4><p><a href="http://api.jquery.com/css/" class=LURL target=_top>jQuery&rsquo;s css() method</a></p><p><a href="http://code.google.com/p/datejs/wiki/FormatSpecifiers" class=LURL target=_top>DateJS Format Strings</a></p><p><a href="calparse-js.html#Format_Strings" class=LGeneric id=link5 onMouseOver="ShowTip(event, 'tt5', 'link5')" onMouseOut="HideTip('tt5')">Format Strings</a></p></div></div></div>

</div><!--Content-->



<!--START_ND_TOOLTIPS-->
<div class=CToolTip id="tt1"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>playVideos: function (</td><td class="PParameter  prettyprint " nowrap>opts</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Sets properties for the videoPlayer and begins the play loop</div></div><div class=CToolTip id="tt2"><div class=CClass>The CalData object contains methods for outputting event data to html for presentation</div></div><div class=CToolTip id="tt3"><div class=CClass>Contains methods for fetching data from YWAM Connect and creating Events</div></div><div class=CToolTip id="tt4"><div class=CClass>Contains methods for fetching data from Google Calendar and creating Events</div></div><div class=CToolTip id="tt5"><div class=CGeneric>Understanding how format strings work in Calparse.js is required to properly configure the DigitalSignage app</div></div><!--END_ND_TOOLTIPS-->

<script language=JavaScript><!--
if (browserType) {if (browserVer) {document.write("</div>"); }document.write("</div>");}// --></script></body></html>